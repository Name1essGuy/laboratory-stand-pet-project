# Набор ролей для настройки тестового стенда
Данный набор ролей настроит созданный ранее тестовый стенд. 

## Удостоверяющий центр
1. Развёртывание самого удостоверяющего центра:
    - Установка easy-rsa
    - Создание сервисного пользователя для управления CA
    - Инициализация папки удостоверяющего центра
    - Генерация необходимых файлов для развёртывания OpenVPN сервера
2. Настройка безопасности:
    - Базовые настройки (loopback, ssh, http/https)
    - Prometheus экспортеры
3. Мониторинг:
    - Создание сервисных пользователей для управления экспортерами
    - Prometheus экспортеры (node, process)

## VPN сервер
1. Развёртывание OpenVPN сервера:
    - Установка OpenVPN
    - Создание сервистного пользователя для управления VPN
    - Копирование необходимых файлов для развёртывания OpenVPN сервера
    - Генерация недостающих файлов для развёртывания OpenVPN сервера
    - Запуск OpenVPN сервера
2. Настройка безопасности:
    - Базовые настройки (loopback, ssh, http/https)
    - OpenVPN
    - Prometheus экспортеры
3. Мониторинг:
    - Создание сервисных пользователей для управления экспортерами
    - Prometheus экспортеры (node, process, ovpn)

## WEB сервер
1. Развёртывание WEB сервера:
    - Установка nginx
    - Создание сервисного пользователя для управления nginx
    - Создание корневого каталога будущего сайта
    - Запуск web сервера
2. Настройка безопасности:
    - Базовые настройки (loopback, ssh, http/https)
    - Prometheus экспортеры
3. Мониторинг:
    - Создание сервисных пользователей для управления экспортерами
    - Prometheus экспортеры (node, process, nginx)

## Сервер базы данных
1. Развёртывание mysql сервера:
    - Установка mysql-server
    - Создание сервисного пользователя для управления mysql сервером
    - Подготовка mysql сервера к работе
    - Запуск mysql сервера
2. Настройка безопасности:
    - Базовые настройки (loopback, ssh, http/https)
    - MySQl сервер
    - Prometheus экспортеры
3. Мониторинг:
    - Создание сервисных пользователей для управления экспортерами
    - Prometheus экспортеры (node, process, mysqld)

## Сервер мониторинга
1. Развёртывание мониторинга:
    - Установка Grafana + Prometheus
    - Устанвока nginx в качестве прокси
    - Установка alertmanager
    - Создание сервисных пользователей для управления Grafana, Prometheus, nginx
    - Создание основных правил мониторинга
2. Настройка безопасности:
    - Базовые настройки (loopback, ssh, http/https)
    - Prometheus
    - Grafana
    - Prometheus экспортеры
3. Мониторинг:
    - Создание сервисных пользователей для управления экспортерами и alertmanager
    - Prometheus экспортеры (node, process, nginx)